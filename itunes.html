<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>FSW Itunes</title>
  <link rel="stylesheet" href="./assets/plugins/bootstrap/css/bootstrap.css"/>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.5.0/font/bootstrap-icons.css">  
  <link rel="stylesheet" href="./assets/css/itunes.css" />  
</head>
<body>
  <div class="container-fluid">
    <div class="row box-content search-box">
      <div class="search-bar">
        <input type="text" class="form-control mx-auto input-search" placeholder="Sweet Chin Music">
        </input>
      </div>
    </div>
    <div class="row list-music">
      <div class="title">
        <h4> List of Music </h4>
      </div>
      <div class="wrapper-list">
                
      </div>
    </div>
    <div class="row music-player">
      <div class="wrapper-music-player hide">
        <div class="wrapper-box">
          <div class="image-music">
            <div class="image" style="background-image: url(&quot;https://is3-ssl.mzstatic.com/image/thumb/Music124/v4/8d/45/1d/8d451d7c-2214-696a-234a-be10e20a8af2/source/100x100bb.jpg&quot;);">
            </div>
          </div>
          <div class="box-player">
            <div class="description-music">
              <h4 class="title-player">Kaatrai Konjam</h4>
              <span class="artist-name">
                <p>Artist : </p>Ilaiyaraaja &amp; Karthik
              </span>
            </div>
          </div>
        </div>
        <div class="player-music">
          <div class="range-box">
            <input type="range" id="music-duration" min="0" value="0">
          </div>
          <div class="button-box">
            <button id="prev" class="prev">Prev</button>
            <button id="pause" class="pause">Pause</button>
            <button id="play" class="play">Play</button>
            <button id="next" class="next">Next</button>
          </div>
        </div>
        <div class="close-button">X</div>
      </div>      
    </div>
  </div>
  <script type="text/javascript">

  let params = "";
  let textSearch = document.querySelector('.input-search');
  if( textSearch.value == "" || textSearch.value == null ){
    params = "Dewa";
  } else {
    params = textSearch.value;
  }

  fetch('https://itunes.apple.com/search?term='+params+'&country=ID&media=music&limit=10')
  .then(function(response) {
    return response.json();
  })
  .then(function(result) {
    // console.log(result);
    // console.log(result.results[0]);
    data = result;
    for(let i=0; i<data.results.length; i++) {
      let isiBoxMusicList = document.querySelector('.list-music .wrapper-list');
      isiBoxMusicList.insertAdjacentHTML('beforeend', `
        <div class="box-music-list list-number-${i} d-flex" id="list-${i}">
          <div class="images-box col-1">
            <div class="images" style="background-image: url(${data.results[i].artworkUrl100});"></div>          
          </div>
          <div class="desc-box col-10">
            <h4 class="title">${data.results[i].trackName}</h4>
            <span class="artist">${data.results[i].artistName}</span>
            <span class="album">${data.results[i].collectionName}</span>
          </div>
          <div class="button-box col-1">
            <button type="button" class="btn btn-outline-dark"><i class="bi-play-circle-fill"></i> PLAY</button>            
          </div>
          <div class="button-box col-1" style="display:none;">
            <button type="button" class="btn btn-outline-dark" style=><i class="bi-stop-circle-fill"></i> STOP</button>            
          </div>          
        </div>       
      `);
    }
  })
  .catch(function(error){
    console.log(error);
  })

  </script>
</body>
</html>